{"version":3,"file":"ApiBuilder.js","sourceRoot":"","sources":["../../../../src/integration/api/builder/ApiBuilder.ts"],"names":[],"mappings":"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","sourcesContent":["import { HeaderType } from \"../../assets/httpConstants\";\nimport { CardsRequests } from \"../requests/CardsRequest\";\nimport { ContractsRequests } from \"../requests/ContractsRequest\";\nimport { CustomerRequests } from \"../requests/CustomersRequest\";\nimport { EmployeesRequest } from \"../requests/EmployeesRequest\";\nimport { LeadsRequests } from \"../requests/LeadsRequest\";\nimport { LoansRequests } from \"../requests/LoansRequest\";\nimport { IHttpBuilder } from \"../../assets/interface/IHttpBuilder\";\n\nexport class HttpBuilder {\n  private readonly props: IHttpBuilder = {\n    repositories: {\n      name: null,\n      repository: null,\n    },\n    header: {\n      type: null,\n    },\n    source: {\n      table: null,\n      card: {\n        id: null,\n        ip: null,\n      },\n      loan: {\n        id: null,\n      },\n      lead: {\n        id: null,\n      },\n      customer: {\n        id: null,\n        response: null,\n        update: {\n          types: null,\n        },\n      },\n    },\n    debug: false,\n  };\n\n  as(type: HeaderType): this {\n    this.props.header.type = type;\n    return this;\n  }\n\n  withCustomerId(customerId: string): this {\n    this.props.source.customer.id = customerId;\n    return this;\n  }\n\n  withLoanId(loanId: string) {\n    this.props.source.loan.id = loanId;\n    return this;\n  }\n\n  withCardId(cardId: string): this {\n    this.props.source.card.id = cardId;\n    return this;\n  }\n\n  withCustomerResponse(customerResponse: object): this {\n    this.props.source.customer.response = customerResponse;\n    return this;\n  }\n\n  withTable(table: object): this {\n    this.props.source.table = table;\n    return this;\n  }\n\n  useRepository(name: string): this {\n    this.props.repositories.name = name;\n    return this;\n  }\n\n  instanceOf(repository: object): this {\n    this.props.repositories.repository = repository;\n    return this;\n  }\n\n  update(type: any): this {\n    this.props.source.customer.update.types = type;\n    return this;\n  }\n\n  withLeadId(leadId: string): this {\n    this.props.source.lead.id = leadId;\n    return this;\n  }\n\n  enableDebug(): this {\n    this.props.debug = true;\n    return this;\n  }\n\n  build(): any {\n    const { name } = this.props.repositories;\n    switch (name) {\n      case \"cardsRepository\":\n        return new CardsRequests(this.props, this.props.debug);\n      case \"contractsRepository\":\n        return new ContractsRequests(this.props, this.props.debug);\n      case \"customersRepository\":\n        return new CustomerRequests(this.props, this.props.debug);\n      case \"employeesRepository\":\n        return new EmployeesRequest(this.props, this.props.debug);\n      case \"leadsRepository\":\n        return new LeadsRequests(this.props, this.props.debug);\n      case \"loansRepository\":\n        return new LoansRequests(this.props, this.props.debug);\n      default:\n        throw new Error(`Repository '\"${name}\"' not supported.`);\n    }\n  }\n}\n"]}